<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
		<meta property="og:title" content="Техническая аномалия Plants vs Zombies">
		<meta property="og:description" content="">
		<meta property="og:type" content="website">
		<meta property="og:site_name" content="TheSolarGarden">
		<meta name="author" content="Солнечная Принцесса">
    <link rel="stylesheet" href="/assets/css/basic.css">
    
    <script defer src="https://cloud.umami.is/script.js" data-website-id="6b74de83-84f1-4c2f-ab50-e56d88accde4"></script>
 
    <script 
data-isso="https://violet-mire-cook.glitch.me"
data-isso-css="true"
data-isso-lang="en"
data-isso-reply-to-self="false"
data-isso-require-author="false"
data-isso-require-email="false"
src="https://thesolarprincess.github.io/tsp-cdn/inno.min.js">
</script>
    <title>Техническая аномалия Plants vs Zombies</title>
  </head>
  <body>
    <h1>Техническая аномалия Plants vs Zombies</h1>
    
    <div id="content"><p>В универе я играла в игру <strong>Plants vs. Zombies</strong>, до того, как ее съел капитализм. Игровое поле выглядит вот так:</p><br />
<br />
<p><img src="/assets/images/plantsvszombies.png" alt="Img" width="450" /></p><br />
<br />
<p>На телефоне было нормально, а моем тогдашнем планшете игра работала странно. Судя по всему, она не смогла понять, какое у меня разрешение экрана, и у меня поехала верстка. Выравнивать верстку игрового интерфейса для разных разрешений экрана это всегда боль, и мой случай показал, что случается, если сделать это неправильно – разные элементы интерфейса наезжали друг на друга, некоторые были спрятаны полностью, скролл менюшек работал не полноценно. Это было неудобно, но в целом все, что мне было нужно, было доступно, и игра была играбельной.</p><br />
<br />
<p>Но вот в чем странность. На скриншоте вы можете увидеть слева игрового поля газонокосилки. Это “право на ошибку” – как только зомби доходит до крайнего левого тайла, она включается и убивает всех зомби на этой дорожке. Работает только один раз – если ты позволишь второму зомби дойти до края, он тебя все-таки съедает.</p><br />
<br />
<p>На моем планшете с поехавшей версткой газонокосилки находились там, где проведена красная линия:</p><br />
<br />
<p><img src="/assets/images/plantsvszombies2.png" alt="Img" width="450" /></p><br />
<br />
<p>И, да – это был не просто визуальный глюк. Газонокосилки на самом деле включались и срабатывали, как только зомби доходил до второго слева тайла, до того, как он съедал два растения на крайних левых тайлах!</p><br />
<br />
<p>Мне очень интересно, как это запрограммировали, и почему было запрограммировано именно так. Что элементы интерфейса расположены по-разному на разных экранах – это нормально, но почему расположение газонокосилок определено относительно экрана, а не относительно игрового поля, на котором они находятся? И почему триггер срабатывания газонокосилки повязан не на расположение зомби относительно поля, а на коллайдер газонокосилки (видимо…)? И почему вообще игровые менюшки и объекты в игровом мире находятся на одном слое и могут триггерить друг друга? Если бы в каком-нибудь Unity или Godot я хотела настроить общую физику между камера-спейс интерфейсом и ворлд-спейс объектами, это была бы нетривиальная задача, которую надо специально вписывать – но тут оно появилось в виде бага?</p><br />
<br />
<p>Подобные решения часто называют “костылем”, но тут подходящая метафора это роботизированное инвалидное кресло Стивена Хокинга. Если у кого-нибудь есть объяснения, почему так получилось, которые не выглядели бы к месту в романе про Плоский Мир, я была бы рада их услышать.</p><br />
<br />
<p><img src="/assets/images/charcoalupsidedown.png" alt="Img" width="350" /></p><br />
</div>
    <a href="/">Другие посты</a><br>
<a href="https://t.me/solarbroadcast">Подписаться</a>
    <div id="isso-thread"></div>
  </body>
</html>